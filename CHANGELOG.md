# 更新日誌

本文件記錄飛豬隊友 AI 虛擬會議系統的所有重要變更。

## [2.1.0] - YYYY-MM-DD (請替換為實際日期)

### 新增
- 在前端會議室界面添加 "結束會議" 按鈕。
- 在前端會議室界面添加會議暫停和結束狀態的提示信息。

### 變更
- 更新所有文檔和程式碼中的版本號至 `2.1.0`。
- 後端 `end_conference` 函數邏輯優化，確保正確設置 `ended` 狀態並通知客戶端。
- 後端 `generate_conclusion` 等函數中添加對會議結束狀態的處理。

### 修復
- 修復會議暫停功能：在後端關鍵流程中加入 `check_pause` 檢查，確保會議在暫停時真正停止。

## [2.0.0] - YYYY-MM-DD (請替換為實際日期)

### 新增
- 在 `AgentManagement.js` 中添加了 `rolePrompt` 輸入框，允許用戶為每個智能體自定義核心提示詞。
- 為每個智能體添加了獨立的 `temperature` 設定，可在 `AgentManagement.js` 中配置。

### 變更
- **統一化**: 確保前後端智能體數據模型一致，後端 `Participant` 模型現在明確包含 `temperature` 和 `rolePrompt`。
- **優先級調整**: 後端 `generate_ai_response` 邏輯更新，優先使用前端傳遞的 `temperature` 和 `rolePrompt`，覆蓋預設值。
- **版本號統一**: 將後端 FastAPI 應用版本、前端 App.js 頁腳顯示版本、README 文件中的版本號全部更新為 `2.0.0`。
- 更新了 API 測試頁面的描述和功能說明。
- 調整了 README 中系統需求的 API Key 建議。

### 修復
- (若本次變更有修復任何 bug，請在此處添加)

## [1.5.0] - 2025-03-28

### 變更
- 將會議主持人改為豬秘書(AI秘書)角色，優化會議流程和體驗
- 移除原有智能體豬秘書的特殊設定，整合為單一角色

### 新增
- 增強主席角色功能，在會議開始時定義3個相關議題和明確目標
- 新增主席在每輪討論開始時檢視前一輪是否達成共識的功能
- 優化主席提示詞模板，使發言更有條理性和針對性

### 修復
- 解決主持人在介紹階段連續發言兩次的問題
- 修正會議角色之間的關係，使對話流程更加自然
- 優化秘書在會議結論階段的表現

## [0.5.0] - 2024-03-27

### 新增
- 添加了 API 測試頁面 (`/api-test`)，用於檢查 OpenAI API 連接狀態
- 增加了 WebSocket 連接的日誌記錄，包含更多客戶端信息
- 增強了 API 密鑰更新功能，支持新的 OpenAI API 密鑰格式 (sk-proj-*)

### 變更
- 移除了 Socket.IO 依賴，統一使用原生 WebSocket 進行通信
- 修改了 WebSocket 連接處理邏輯，解決了路由衝突問題
- 更新了 `requirements.txt`，移除了不必要的依賴

### 修復
- 修復了 OpenAI 客戶端創建時的錯誤處理邏輯
- 解決了 WebSocket 斷開連接後的錯誤處理問題
- 修復了會議進程中消息廣播的穩定性問題

### 安全
- 增強了 API 密鑰在日誌中的掩蔽處理
- 改進了錯誤消息，避免洩露敏感信息

## [0.1.0] - 2024-03-01

### 初始版本
- 實現了基本的 AI 虛擬會議系統功能
- 支持多個 AI 角色參與討論
- 實現了基於 Socket.IO 的即時通信
- 提供了會議記錄導出功能 